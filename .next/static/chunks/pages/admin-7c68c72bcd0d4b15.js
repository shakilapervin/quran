(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{8195:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return s(5824)}])},5824:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return b}});var a=s(7568),o=s(4051),t=s.n(o),n=s(5893),i=s(9008),l=s.n(i),c=s(9294),d=s.n(c),u=s(9755),m=s.n(u),p=s(9669),h=s.n(p),f=s(2920),g=s(1163);function b(){var e=(0,g.useRouter)(),r=function(){var r=(0,a.Z)(t().mark((function r(s){var a,o;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s.preventDefault(),f.Am.loading("Loading",{position:"bottom-left",theme:"dark"}),a=m()(".email").val(),o=m()(".password").val(),""!==a){r.next=8;break}return f.Am.dismiss(),f.Am.error("Email is required",{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),r.abrupt("return");case 8:if(""!==o){r.next=12;break}return f.Am.dismiss(),f.Am.error("Password is required",{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),r.abrupt("return");case 12:h().post("".concat("https://almunji.webxcode.xyz/api","/login"),{email:a,password:o}).then((function(r){!0===r.data.status?h().post("/api/auth/login",{id:r.data.user.id,name:r.data.user.name,email:r.data.user.email,token:r.data.token}).then((function(){f.Am.dismiss(),f.Am.success("Successfully Logged In",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),e.replace("/admin/dashboard")})).catch((function(e){f.Am.dismiss(),f.Am.error(e.response.data,{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"})})):(f.Am.dismiss(),f.Am.error(r.data.errors,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}))})).catch((function(e){f.Am.dismiss(),f.Am.error(e.response.data,{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"})}));case 13:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l(),{children:(0,n.jsx)("title",{children:"Login"})}),(0,n.jsx)(f.Ix,{}),(0,n.jsx)("div",{className:d().wrapper,children:(0,n.jsx)("div",{className:d().formWrapper,children:(0,n.jsxs)("form",{onSubmit:r,children:[(0,n.jsx)("h1",{className:"text-center",children:"Login"}),(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)("input",{type:"email",className:"form-control email",placeholder:"Email Address"})}),(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)("input",{type:"password",className:"form-control password",placeholder:"Password"})}),(0,n.jsx)("button",{className:"btn btn-success d-block w-100",type:"submit",children:"Login"})]})})})]})}},9294:function(e){e.exports={wrapper:"Login_wrapper__zlhh7",formWrapper:"Login_formWrapper__A0qYy"}},9008:function(e,r,s){e.exports=s(5443)}},function(e){e.O(0,[571,217,497,774,888,179],(function(){return r=8195,e(e.s=r);var r}));var r=e.O();_N_E=r}]);